# ---------- Login shell: environment & PATH (fast, non-interactive) ----------

# Homebrew (Apple Silicon) – set PATH, MANPATH, etc. once per login shell.
if [ -x /opt/homebrew/bin/brew ]; then
  eval "$(/opt/homebrew/bin/brew shellenv)"
fi

# OrbStack CLI integration (safe if missing)
[ -r "$HOME/.orbstack/shell/init.zsh" ] && source "$HOME/.orbstack/shell/init.zsh"

# PATH management (dedupe + order) using zsh’s path array.
typeset -U path PATH
path=(
  /opt/homebrew/bin
  /opt/homebrew/sbin
  /usr/local/bin
  /System/Cryptexes/App/usr/bin
  /usr/bin
  /bin
  /usr/sbin
  /sbin
  $path
)

# Locale (uncomment if needed)
# export LANG=en_US.UTF-8
# export LC_ALL=en_US.UTF-8

# Cache dir for zsh artifacts
export ZSH_CACHE_DIR="${XDG_CACHE_HOME:-$HOME/.cache}/zsh"
mkdir -p "$ZSH_CACHE_DIR"

